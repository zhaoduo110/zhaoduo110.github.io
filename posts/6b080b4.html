<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Redis知识梳理-2-数据类型及操作 | Yet</title><meta name="description" content="基本命令   命令 用法 作用     SELECT      KEYS      EXISTS      FLUSHALL      FLUSHDB            TYPE用法：TYPE key 作用：返回 key 所存储的 value 的数据结构类型，它可以返回string、list、set、zset、hash等不同的类型。 返回：返回当前 key 的数据类型，如果 key 不存在时返"><meta name="keywords" content="Redis,NoSQL"><meta name="author" content="Mr、 Zhao"><meta name="copyright" content="Mr、 Zhao"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Redis知识梳理-2-数据类型及操作"><meta name="twitter:description" content="基本命令   命令 用法 作用     SELECT      KEYS      EXISTS      FLUSHALL      FLUSHDB            TYPE用法：TYPE key 作用：返回 key 所存储的 value 的数据结构类型，它可以返回string、list、set、zset、hash等不同的类型。 返回：返回当前 key 的数据类型，如果 key 不存在时返"><meta name="twitter:image" content="https://could-res-1252778021.cos.ap-shanghai.myqcloud.com/pic/wallpaper/1618218964853.jpg"><meta property="og:type" content="article"><meta property="og:title" content="Redis知识梳理-2-数据类型及操作"><meta property="og:url" content="https://zhaoduo110.github.io/posts/6b080b4.html"><meta property="og:site_name" content="Yet"><meta property="og:description" content="基本命令   命令 用法 作用     SELECT      KEYS      EXISTS      FLUSHALL      FLUSHDB            TYPE用法：TYPE key 作用：返回 key 所存储的 value 的数据结构类型，它可以返回string、list、set、zset、hash等不同的类型。 返回：返回当前 key 的数据类型，如果 key 不存在时返"><meta property="og:image" content="https://could-res-1252778021.cos.ap-shanghai.myqcloud.com/pic/wallpaper/1618218964853.jpg"><meta property="article:published_time" content="2021-05-18T13:06:22.000Z"><meta property="article:modified_time" content="2021-09-16T03:14:45.406Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://zhaoduo110.github.io/posts/6b080b4.html"><link rel="prev" title="Swoft-踩坑" href="https://zhaoduo110.github.io/posts/68c1a07d.html"><link rel="next" title="Redis知识梳理-1-安装" href="https://zhaoduo110.github.io/posts/97c16208.html"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.gif" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">42</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">26</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">8</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#基本命令"><span class="toc-number">1.</span> <span class="toc-text">基本命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#TYPE"><span class="toc-number">1.0.0.1.</span> <span class="toc-text">TYPE</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#五种基本数据类型"><span class="toc-number">2.</span> <span class="toc-text">五种基本数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#String类型"><span class="toc-number">2.1.</span> <span class="toc-text">String类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SET"><span class="toc-number">2.1.0.1.</span> <span class="toc-text">SET</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GET"><span class="toc-number">2.1.0.2.</span> <span class="toc-text">GET</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EXPIRE"><span class="toc-number">2.1.0.3.</span> <span class="toc-text">EXPIRE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TTL"><span class="toc-number">2.1.0.4.</span> <span class="toc-text">TTL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SETEX"><span class="toc-number">2.1.0.5.</span> <span class="toc-text">SETEX</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PSETEX"><span class="toc-number">2.1.0.6.</span> <span class="toc-text">PSETEX</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SETNX"><span class="toc-number">2.1.0.7.</span> <span class="toc-text">SETNX</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MSET"><span class="toc-number">2.1.0.8.</span> <span class="toc-text">MSET</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MGET"><span class="toc-number">2.1.0.9.</span> <span class="toc-text">MGET</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MSETEX"><span class="toc-number">2.1.0.10.</span> <span class="toc-text">MSETEX</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MSETNX"><span class="toc-number">2.1.0.11.</span> <span class="toc-text">MSETNX</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GETSET"><span class="toc-number">2.1.0.12.</span> <span class="toc-text">GETSET</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MOVE"><span class="toc-number">2.1.0.13.</span> <span class="toc-text">MOVE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#APPEND"><span class="toc-number">2.1.0.14.</span> <span class="toc-text">APPEND</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#STRLEN"><span class="toc-number">2.1.0.15.</span> <span class="toc-text">STRLEN</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#INCR"><span class="toc-number">2.1.0.16.</span> <span class="toc-text">INCR</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DECR"><span class="toc-number">2.1.0.17.</span> <span class="toc-text">DECR</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#INCRBY"><span class="toc-number">2.1.0.18.</span> <span class="toc-text">INCRBY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DECRBY"><span class="toc-number">2.1.0.19.</span> <span class="toc-text">DECRBY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GETRANGE"><span class="toc-number">2.1.0.20.</span> <span class="toc-text">GETRANGE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SETRANGE"><span class="toc-number">2.1.0.21.</span> <span class="toc-text">SETRANGE</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#List类型"><span class="toc-number">2.2.</span> <span class="toc-text">List类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#LPUSH"><span class="toc-number">2.2.0.1.</span> <span class="toc-text">LPUSH</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RPUSH"><span class="toc-number">2.2.0.2.</span> <span class="toc-text">RPUSH</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LPUSHX"><span class="toc-number">2.2.0.3.</span> <span class="toc-text">LPUSHX</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RPUSHX"><span class="toc-number">2.2.0.4.</span> <span class="toc-text">RPUSHX</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LPOP"><span class="toc-number">2.2.0.5.</span> <span class="toc-text">LPOP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RPOP"><span class="toc-number">2.2.0.6.</span> <span class="toc-text">RPOP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BLPOP"><span class="toc-number">2.2.0.7.</span> <span class="toc-text">BLPOP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BRPOP"><span class="toc-number">2.2.0.8.</span> <span class="toc-text">BRPOP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LLEN"><span class="toc-number">2.2.0.9.</span> <span class="toc-text">LLEN</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LINDEX"><span class="toc-number">2.2.0.10.</span> <span class="toc-text">LINDEX</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LSET"><span class="toc-number">2.2.0.11.</span> <span class="toc-text">LSET</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LINSERT"><span class="toc-number">2.2.0.12.</span> <span class="toc-text">LINSERT</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LREM"><span class="toc-number">2.2.0.13.</span> <span class="toc-text">LREM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LRANGE"><span class="toc-number">2.2.0.14.</span> <span class="toc-text">LRANGE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LTRIM"><span class="toc-number">2.2.0.15.</span> <span class="toc-text">LTRIM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RPOPLPUSH"><span class="toc-number">2.2.0.16.</span> <span class="toc-text">RPOPLPUSH</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BRPOPLPUSH"><span class="toc-number">2.2.0.17.</span> <span class="toc-text">BRPOPLPUSH</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set类型"><span class="toc-number">2.3.</span> <span class="toc-text">Set类型</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Set类型是无序的列表且不允许重复"><span class="toc-number">2.3.0.0.0.1.</span> <span class="toc-text">Set类型是无序的列表且不允许重复</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hash类型-又称：散列"><span class="toc-number">2.4.</span> <span class="toc-text">Hash类型(又称：散列)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Hash只要求键不一样，就是不同的条数"><span class="toc-number">2.4.0.0.0.1.</span> <span class="toc-text">Hash只要求键不一样，就是不同的条数</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Zset-类型-Sort-set又称-有序分数集"><span class="toc-number">2.5.</span> <span class="toc-text">Zset 类型(Sort set又称:有序分数集)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#特殊数据类型"><span class="toc-number">3.</span> <span class="toc-text">特殊数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Geospatial"><span class="toc-number">3.1.</span> <span class="toc-text">Geospatial</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hyperlog"><span class="toc-number">3.2.</span> <span class="toc-text">Hyperlog</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bitmaps"><span class="toc-number">3.3.</span> <span class="toc-text">bitmaps</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://could-res-1252778021.cos.ap-shanghai.myqcloud.com/pic/wallpaper/1618218964853.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Yet</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">Redis知识梳理-2-数据类型及操作</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2021-05-18 21:06:22"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2021-05-18</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2021-09-16 11:14:45"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2021-09-16</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/NoSQL/">NoSQL</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h1><table>
<thead>
<tr>
<th>命令</th>
<th>用法</th>
<th>作用</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>SELECT</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>KEYS</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>EXISTS</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>FLUSHALL</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>FLUSHDB</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id="TYPE"><a href="#TYPE" class="headerlink" title="TYPE"></a>TYPE</h4><p>用法：TYPE key</p>
<p>作用：返回 key 所存储的 value 的数据结构类型，它可以返回<code>string、list、set、zset、hash</code>等不同的类型。</p>
<p>返回：返回当前 key 的数据类型，如果 key 不存在时返回 none</p>
<p>举例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">redis&gt; SET key1 &quot;value&quot;</span><br><span class="line">OK</span><br><span class="line">redis&gt; LPUSH key2 &quot;value&quot;</span><br><span class="line">(integer) 1</span><br><span class="line">redis&gt; SADD key3 &quot;value&quot;</span><br><span class="line">(integer) 1</span><br><span class="line">redis&gt; TYPE key1</span><br><span class="line">string</span><br><span class="line">redis&gt; TYPE key2</span><br><span class="line">list</span><br><span class="line">redis&gt; TYPE key3</span><br><span class="line">set</span><br></pre></td></tr></table></figure>







<h1 id="五种基本数据类型"><a href="#五种基本数据类型" class="headerlink" title="五种基本数据类型"></a>五种基本数据类型</h1><table>
<thead>
<tr>
<th align="center">数据类型</th>
<th align="center">存储的值</th>
<th align="center">读写能力</th>
</tr>
</thead>
<tbody><tr>
<td align="center">String</td>
<td align="center">可以使用字符串、整数或浮点数,统称为元素</td>
<td align="center">对字符串操作,对整数类型加减</td>
</tr>
<tr>
<td align="center">List</td>
<td align="center">一个序列集合且每个节点都包好了一个元素</td>
<td align="center">序列两端推入、或弹出元素,修剪、查找或移除元素</td>
</tr>
<tr>
<td align="center">Set</td>
<td align="center">各不相同的元素</td>
<td align="center">从集合中插入或者删除元素</td>
</tr>
<tr>
<td align="center">Hash</td>
<td align="center">有Key-value的散列祖,其中key是字符串,value是元素</td>
<td align="center">按照key进行增加删除</td>
</tr>
<tr>
<td align="center">Sort Set</td>
<td align="center">带分数的score-value有序集合,其中score为浮点,value为元素</td>
<td align="center">集合插入,按照分数范围查找</td>
</tr>
</tbody></table>
<h2 id="String类型"><a href="#String类型" class="headerlink" title="String类型"></a>String类型</h2><p>value可以是字符串、数字（当做字符串处理的）、对象(:的用法)</p>
<p>相关命令：<a href="http://redis.cn/commands.html#string" target="_blank" rel="noopener">http://redis.cn/commands.html#string</a></p>
<h4 id="SET"><a href="#SET" class="headerlink" title="SET"></a>SET</h4><p>用法：SET key value [EX PX NX XX ]</p>
<ul>
<li>EX：设置键key的过期时间，单位是秒</li>
<li>PX：设置键key的过期时间，单位是毫秒</li>
<li>NX：只有键key不存在的时候才会设置key的值</li>
<li>XX：只有键key存在的时候才会设置key的值</li>
</ul>
<p>作用：将键<code>key</code>设定为指定的 value，如果key已经存在则会被覆盖为新的value</p>
<p>返回：如果<code>SET</code>命令正常执行那么回返回<code>OK</code>，否则如果加了<code>NX</code> 或者 <code>XX</code>选项，但是没有设置条件。那么会返回nil</p>
<p>注意: 由于<code>SET</code>命令加上选项已经可以完全取代<a href="http://redis.cn/commands/setnx.html" target="_blank" rel="noopener">SETNX</a>, <a href="http://redis.cn/commands/setex.html" target="_blank" rel="noopener">SETEX</a>, <a href="http://redis.cn/commands/psetex.html" target="_blank" rel="noopener">PSETEX</a>的功能，所以在将来的版本中，redis可能会不推荐使用并且最终抛弃这几个命令。</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 设置key1的值为value1</span></span><br><span class="line">SET key1 value1</span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置key2的值为value2 并在20s后过期</span></span><br><span class="line">SET key2 value2 EX 20</span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置key3的值为value3 并在10s后过期</span></span><br><span class="line">SET key3 value3 PX 10000</span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果key4不存在则设置为value4 如果存在则不设置</span></span><br><span class="line">SET key4 value4 NX</span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果key4存在则设置为value4 如果不存在则不设置</span></span><br><span class="line">SET key4 value4 XX</span><br></pre></td></tr></table></figure>

<h4 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h4><p>用法：GET key</p>
<p>作用：返回 key 的 value。如果key不存在，返回特殊值 nil 。如果<code>key</code>的 value 不是string，就返回错误，因为 GET 只处理string类型的 values</p>
<p>返回：key对应的value，key不存在时返回nil</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 获取key1的值</span></span><br><span class="line">GET key1</span><br></pre></td></tr></table></figure>

<h4 id="EXPIRE"><a href="#EXPIRE" class="headerlink" title="EXPIRE"></a>EXPIRE</h4><p>用法：EXPIRE key seconds</p>
<p>作用：设置key的过期时间为seconds秒</p>
<p>返回：设置成功返回1，设置失败（key不存在等原因）返回0</p>
<p>注意：</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 设置key1 20秒后失效</span></span><br><span class="line">EXPIRE key1 20</span><br></pre></td></tr></table></figure>

<h4 id="TTL"><a href="#TTL" class="headerlink" title="TTL"></a>TTL</h4><p>用法：TTL key</p>
<p>作用：查看key的过期时间</p>
<p>返回：返回key的过期时间，永久有效则返回-1</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 首先设置一个key并设置过期时间</span></span><br><span class="line">SET key1 value1 EX 30</span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取过期时间</span></span><br><span class="line">TTL key1</span><br></pre></td></tr></table></figure>

<h4 id="SETEX"><a href="#SETEX" class="headerlink" title="SETEX"></a>SETEX</h4><p>用法：SETEX key seconds value</p>
<p>作用：</p>
<ul>
<li>设置key对应字符串value，并且设置key在给定的seconds时间之后超时过期</li>
<li>这个命令等效于 <code>SET</code> 和 <code>EXPIRE</code> 的事务执行</li>
<li>SETEX是原子的，也可以通过把上面两个命令放到 <a href="http://redis.cn/commands/multi.html" target="_blank" rel="noopener">MULTI</a>/<a href="http://redis.cn/commands/exec.html" target="_blank" rel="noopener">EXEC </a>块中执行的方式重现。相比连续执行上面两个命令，它更快，因为当Redis当做缓存使用时，这个操作更加常用</li>
</ul>
<p>注意: ==由于<code>SET</code>命令加上选项已经可以完全取代<a href="http://redis.cn/commands/setnx.html" target="_blank" rel="noopener">SETNX</a>, <a href="http://redis.cn/commands/setex.html" target="_blank" rel="noopener">SETEX</a>, <a href="http://redis.cn/commands/psetex.html" target="_blank" rel="noopener">PSETEX</a>的功能，所以在将来的版本中，redis可能会不推荐使用并且最终抛弃这几个命令。==</p>
<p>返回：成功返回ok</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SETEX key1 20 value1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; TTL key1</span><br><span class="line">(integer) 14</span><br></pre></td></tr></table></figure>

<h4 id="PSETEX"><a href="#PSETEX" class="headerlink" title="PSETEX"></a>PSETEX</h4><p>和 SETEX 完全一样，唯一的区别是到期时间以毫秒为单位,而不是秒</p>
<h4 id="SETNX"><a href="#SETNX" class="headerlink" title="SETNX"></a>SETNX</h4><p>用法：SETNX key value</p>
<p>作用：SET if Not exists，将<code>key</code>设置值为<code>value</code>，如果<code>key</code>不存在，这种情况下等同<a href="http://redis.cn/commands/set.html" target="_blank" rel="noopener">SET</a>命令。 当<code>key</code>存在时，什么也不做。</p>
<p>返回： 1 如果key被设置了，0如果key没有被设置</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET key1 value</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; SETNX key1 value1</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; SETNX key2 value2</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; KEYS *</span><br><span class="line">1) "key1"</span><br><span class="line">2) "key2"</span><br><span class="line">127.0.0.1:6379&gt; GET key1</span><br><span class="line">"value"</span><br><span class="line">127.0.0.1:6379&gt; GET key2</span><br><span class="line">"value2"</span><br></pre></td></tr></table></figure>

<h4 id="MSET"><a href="#MSET" class="headerlink" title="MSET"></a>MSET</h4><p>用法：MSET key value [key value …]</p>
<p>作用：</p>
<ul>
<li>对应给定的keys到他们相应的values上。<code>MSET</code>会用新的value替换已经存在的value，就像普通的<a href="http://redis.cn/commands/set.html" target="_blank" rel="noopener">SET</a>命令一样</li>
<li><code>MSET</code>是原子的，所以所有给定的keys是一次性set的。客户端不可能看到这种一部分keys被更新而另外的没有改变的情况</li>
</ul>
<p>返回：总是OK，因为MSET不会失败</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; MSET key1 value1 key2 value2 key3 value3</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; KEYS *</span><br><span class="line">1) "key1"</span><br><span class="line">2) "key3"</span><br><span class="line">3) "key2"</span><br><span class="line">127.0.0.1:6379&gt; GET key1</span><br><span class="line">"value1"</span><br><span class="line">127.0.0.1:6379&gt; GET key2</span><br><span class="line">"value2"</span><br><span class="line">127.0.0.1:6379&gt; GET key3</span><br><span class="line">"value3"</span><br></pre></td></tr></table></figure>

<h4 id="MGET"><a href="#MGET" class="headerlink" title="MGET"></a>MGET</h4><p>用法：MGET key [key …]</p>
<p>作用：返回所有指定的key的value。对于每个不对应string或者不存在的key，都返回特殊值<code>nil</code>。正因为此，这个操作从来不会失败</p>
<p>返回：指定的key对应的values的list</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; MSET key1 value1 key2 value2 key3 value3</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; MGET key1 key2</span><br><span class="line">1) "value1"</span><br><span class="line">2) "value2"</span><br><span class="line">127.0.0.1:6379&gt; MGET key1 key2 key4</span><br><span class="line">1) "value1"</span><br><span class="line">2) "value2"</span><br><span class="line">3) (nil)</span><br></pre></td></tr></table></figure>

<h4 id="MSETEX"><a href="#MSETEX" class="headerlink" title="MSETEX"></a>MSETEX</h4><p>==弃用==</p>
<p>用法：</p>
<p>作用：</p>
<p>返回：</p>
<p>举例：</p>
<h4 id="MSETNX"><a href="#MSETNX" class="headerlink" title="MSETNX"></a>MSETNX</h4><p>用法：MSETNX key value [key value …]</p>
<p>作用：</p>
<ul>
<li>对应给定的keys到他们相应的values上。==只要有一个key已经存在，<code>MSETNX</code>一个操作都不会执行。 由于这种特性，<code>MSETNX</code>可以实现要么所有的操作都成功，要么一个都不执行，这样可以用来设置不同的key，来表示一个唯一的对象的不同字段。==</li>
<li><code>MSETNX</code>是原子的，所以所有给定的keys是一次性set的。客户端不可能看到这种一部分keys被更新而另外的没有改变的情况。</li>
</ul>
<p>返回：</p>
<ul>
<li>1 如果所有的key被set</li>
<li>0 如果没有key被set(至少其中有一个key是存在的)</li>
</ul>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; MSETNX key1 value1 key2 value2 key3 value3</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; SET key4 value4</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; KEYS *</span><br><span class="line">1) "key1"</span><br><span class="line">2) "key4"</span><br><span class="line">3) "key3"</span><br><span class="line">4) "key2"</span><br><span class="line">127.0.0.1:6379&gt; MSETNX key4 value4 key5 value5 key6 value6</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; KEYS *</span><br><span class="line">1) "key1"</span><br><span class="line">2) "key4"</span><br><span class="line">3) "key3"</span><br><span class="line">4) "key2"</span><br></pre></td></tr></table></figure>

<h4 id="GETSET"><a href="#GETSET" class="headerlink" title="GETSET"></a>GETSET</h4><p>用法：</p>
<p>作用：</p>
<p>返回：</p>
<p>举例：</p>
<h4 id="MOVE"><a href="#MOVE" class="headerlink" title="MOVE"></a>MOVE</h4><p>用法：MOVE key db</p>
<p>作用：将当前数据库的 key 移动到给定的数据库 db 当中</p>
<p>返回：移动成功返回1，移动失败返回0</p>
<p>注意：如果当前数据库(源数据库)和给定数据库(目标数据库)有相同名字的给定 key ，或者 key 不存在于当前数据库，那么 MOVE 没有任何效果。因此，也可以利用这一特性，将 <code>MOVE</code> 当作锁(locking)原语(primitive)</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 选择0号库</span></span><br><span class="line">127.0.0.1:6379&gt; SELECT 0</span><br><span class="line">OK</span><br><span class="line"><span class="meta">#</span><span class="bash"> SET key1和key2</span></span><br><span class="line">127.0.0.1:6379&gt; SET key1 value1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; SET key2 value2</span><br><span class="line">OK</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看当前库有key1和key2两条数据</span></span><br><span class="line">127.0.0.1:6379&gt; KEYS *</span><br><span class="line">1) "key1"</span><br><span class="line">2) "key2"</span><br><span class="line"><span class="meta">#</span><span class="bash"> 移动key1到1号库</span></span><br><span class="line">127.0.0.1:6379&gt; MOVE key1 1</span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看当前库只剩下key2一条数据</span></span><br><span class="line">127.0.0.1:6379&gt; KEYS *</span><br><span class="line">1) "key2"</span><br><span class="line"><span class="meta">#</span><span class="bash"> 选择1号库</span></span><br><span class="line">127.0.0.1:6379&gt; SELECT 1</span><br><span class="line">OK</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看key1已经被移动到1号库</span></span><br><span class="line">127.0.0.1:6379[1]&gt; KEYS *</span><br><span class="line">1) "key1"</span><br></pre></td></tr></table></figure>

<h4 id="APPEND"><a href="#APPEND" class="headerlink" title="APPEND"></a>APPEND</h4><p>用法：APPEND key value</p>
<p>作用：如果  key  已经存在，并且值为字符串，那么这个命令会把  value 追加到原来值（value）的结尾。 如果 key 不存在，那么它将首先创建一个空字符串的 key ，再执行追加操作，这种情况  APPEND 将类似于 SET 操作</p>
<p>返回：返回append后字符串（value）的长度</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 设置key1值为value1</span></span><br><span class="line">127.0.0.1:6379&gt; SET key1 value1</span><br><span class="line">OK</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看当前key1的值</span></span><br><span class="line">127.0.0.1:6379&gt; GET key1</span><br><span class="line">"value1"</span><br><span class="line"><span class="meta">#</span><span class="bash"> key1值追加 valueAppend，追加成功返回key1值的总长度</span></span><br><span class="line">127.0.0.1:6379&gt; APPEND key1 valueAppend</span><br><span class="line">(integer) 17</span><br><span class="line"><span class="meta">#</span><span class="bash"> 再次查看key1的值 说明追加成功</span></span><br><span class="line">127.0.0.1:6379&gt; GET key1</span><br><span class="line">"value1valueAppend"</span><br></pre></td></tr></table></figure>

<h4 id="STRLEN"><a href="#STRLEN" class="headerlink" title="STRLEN"></a>STRLEN</h4><p>用法：STRLEN key</p>
<p>作用：查看key值的长度</p>
<p>返回：返回int    key值的长度</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET key1 value1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; STRLEN key1</span><br><span class="line">(integer) 6</span><br></pre></td></tr></table></figure>

<h4 id="INCR"><a href="#INCR" class="headerlink" title="INCR"></a>INCR</h4><p>用法：INCR key</p>
<p>作用：对存储在指定<code>key</code>的数值执行原子的加1操作。</p>
<ul>
<li><p>如果指定的key不存在，那么在执行incr操作之前，会先将它的值设定为<code>0</code>。</p>
</li>
<li><p>如果指定的key中存储的值不是字符串类型（fix：）或者存储的字符串类型不能表示为一个整数，那么执行这个命令时服务器会返回一个错误(eq:(error) ERR value is not an integer or out of range)</p>
</li>
<li><p>这个操作仅限于64位的有符号整型数据</p>
</li>
</ul>
<p>注意: </p>
<ul>
<li><p>由于redis并没有一个明确的类型来表示整型数据，所以这个操作是一个字符串操作。</p>
</li>
<li><p>执行这个操作的时候，key对应存储的字符串被解析为10进制的<strong>64位有符号整型数据</strong>。</p>
</li>
<li><p>事实上，Redis 内部采用整数形式（Integer representation）来存储对应的整数值，所以对该类字符串值实际上是用整数保存，也就不存在存储整数的字符串表示（String representation）所带来的额外消耗</p>
</li>
</ul>
<p>返回：执行递增操作后<code>key</code>对应的值</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET key1 5</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; INCR key1</span><br><span class="line">(integer) 6</span><br><span class="line">127.0.0.1:6379&gt; INCR key1</span><br><span class="line">(integer) 7</span><br><span class="line">127.0.0.1:6379&gt; GET key1</span><br><span class="line">"7"</span><br></pre></td></tr></table></figure>

<h4 id="DECR"><a href="#DECR" class="headerlink" title="DECR"></a>DECR</h4><p>用法：DECR key</p>
<p>作用：对key对应的数字做减1操作。如果key不存在，那么在操作之前，这个key对应的值会被置为0。如果key有一个错误类型的value或者是一个不能表示成数字的字符串，就返回错误。这个操作最大支持在64位有符号的整型数字。</p>
<p>返回：减小之后的value</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET key1 5</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; DECR key1</span><br><span class="line">(integer) 4</span><br><span class="line">127.0.0.1:6379&gt; DECR key1</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; GET key1</span><br><span class="line">"3"</span><br></pre></td></tr></table></figure>

<h4 id="INCRBY"><a href="#INCRBY" class="headerlink" title="INCRBY"></a>INCRBY</h4><p>用法：INCRBY key increment</p>
<p>作用：将key对应的数字加decrement。如果key不存在，操作之前，key就会被置为0。如果key的value类型错误或者是个不能表示成数字的字符串，就返回错误。这个操作最多支持64位有符号的正型数字</p>
<p>返回：增加之后的value值</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET key1 1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; INCRBY key1 2</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; INCRBY key1 3</span><br><span class="line">(integer) 6</span><br><span class="line">127.0.0.1:6379&gt; INCRBY key1 5</span><br><span class="line">(integer) 11</span><br><span class="line">127.0.0.1:6379&gt; GET key1</span><br><span class="line">"11"</span><br></pre></td></tr></table></figure>

<h4 id="DECRBY"><a href="#DECRBY" class="headerlink" title="DECRBY"></a>DECRBY</h4><p>用法：DECRBY key increment</p>
<p>作用：将key对应的数字减decrement。如果key不存在，操作之前，key就会被置为0。如果key的value类型错误或者是个不能表示成数字的字符串，就返回错误。这个操作最多支持64位有符号的正型数字</p>
<p>返回：减少之后的value值</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET key1 10</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; DECRBY key1 2</span><br><span class="line">(integer) 8</span><br><span class="line">127.0.0.1:6379&gt; DECRBY key1 4</span><br><span class="line">(integer) 4</span><br><span class="line">127.0.0.1:6379&gt; GET key1</span><br><span class="line">"4"</span><br></pre></td></tr></table></figure>

<h4 id="GETRANGE"><a href="#GETRANGE" class="headerlink" title="GETRANGE"></a>GETRANGE</h4><p>用法：GETRANGE key start end</p>
<p>作用：返回key对应的字符串value的子串</p>
<ul>
<li><p>这个子串是由start和end位移决定的（两者都在string内）。</p>
</li>
<li><p>可以用负的位移来表示从string尾部开始数的下标。所以-1就是最后一个字符，-2就是倒数第二个，以此类推。</p>
</li>
<li><p>这个函数处理超出范围的请求时，都把结果限制在string内</p>
</li>
</ul>
<p>注意：这个命令是被改成GETRANGE的，在小于2.0的Redis版本中叫SUBSTR。start end都是闭区间，即返回的子串包含start和end位置的字符</p>
<p>返回：返回符合指定位置的子字符串</p>
<p>举例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET key1 &#39;This is a dog&#39;</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; GET key1</span><br><span class="line">&quot;This is a dog&quot;</span><br><span class="line">127.0.0.1:6379&gt; GETRANGE key1 4 10</span><br><span class="line">&quot; is a d&quot;</span><br><span class="line">127.0.0.1:6379&gt; GETRANGE key1 4 20</span><br><span class="line">&quot; is a dog&quot;</span><br></pre></td></tr></table></figure>

<h4 id="SETRANGE"><a href="#SETRANGE" class="headerlink" title="SETRANGE"></a>SETRANGE</h4><p>用法：SETRANGE key offset value</p>
<p>作用：覆盖key对应的string的一部分，从指定的offset处开始，覆盖value的长度</p>
<ul>
<li>如果offset比当前key对应string还要长，那这个string后面就补0以达到offset。</li>
<li>不存在的keys被认为是空字符串，所以这个命令可以确保key有一个足够大的字符串，能在offset处设置value</li>
</ul>
<p>返回：该命令修改后的字符串长度</p>
<p>注意：</p>
<ul>
<li><p>offset最大可以是229-1(536870911)，因为redis字符串限制在512M大小。如果你需要超过这个大小，你可以用多个keys。</p>
</li>
<li><p>==当set最后一个字节并且key还没有一个字符串value或者其value是个比较小的字符串时，Redis需要立即分配所有内存，这有可能会导致服务阻塞一会。在一台2010 MacBook Pro上，set 536870911字节（分配512MB）需要～300ms，set134217728字节(分配128MB)需要～80ms，set 33554432比特位（分配32MB）需要～30ms，set 8388608比特（分配8MB）需要8ms。注意，一旦第一次内存分配完，后面对同一个key调用<a href="http://redis.cn/commands/setrange.html" target="_blank" rel="noopener">SETRANGE</a>就不会预先得到内存分配==</p>
</li>
</ul>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET key1 value1234567890</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; SETRANGE key1 5 000000000</span><br><span class="line">(integer) 15</span><br><span class="line">127.0.0.1:6379&gt; GET key1</span><br><span class="line">"value0000000000"</span><br><span class="line">127.0.0.1:6379&gt; SETRANGE key1 5 0000</span><br><span class="line">(integer) 15</span><br><span class="line">127.0.0.1:6379&gt; GET key1</span><br><span class="line">"value0000000000"</span><br><span class="line">127.0.0.1:6379&gt; SETRANGE key1 14 0000</span><br><span class="line">(integer) 18</span><br><span class="line">127.0.0.1:6379&gt; GET key1</span><br><span class="line">"value0000000000000"</span><br></pre></td></tr></table></figure>









<h2 id="List类型"><a href="#List类型" class="headerlink" title="List类型"></a>List类型</h2><p>List类型是有序的列表,允许重复,List不要求里面的元素是唯一的</p>
<p>说明：可以结合栈和队列的含义理解，</p>
<ul>
<li>设置和取值的时候同一方向是栈(后进先出)，lpush lpop结合、rpush rpop结合。</li>
<li>设置和取值的时候方向相反就是队列(先进先出)，lpush rpop结合、rpush lpop结合</li>
</ul>
<p>==list头部在左，尾部在右==</p>
<p>相关命令：<a href="http://redis.cn/commands.html#list" target="_blank" rel="noopener">http://redis.cn/commands.html#list</a></p>
<h4 id="LPUSH"><a href="#LPUSH" class="headerlink" title="LPUSH"></a>LPUSH</h4><p>用法：LPUSH key value [value …]</p>
<p>作用：将所有指定的值插入到列表key的头部。</p>
<ul>
<li><p>如果 key 不存在，那么在进行 push 操作前会创建一个空列表。</p>
</li>
<li><p>如果 key 对应的值不是一个 list 的话，那么会返回一个错误。</p>
</li>
<li><p>可以使用一个命令把多个元素 push 进列表，只需在命令末尾加上多个指定的参数。</p>
</li>
<li><p>元素是从最左端的到最右端的、一个接一个被插入到 list 的头部。 所以对于这个命令例子 <code>LPUSH mylist a b c</code>，返回的列表是 c 为第一个元素， b 为第二个元素， a 为第三个元素。</p>
</li>
</ul>
<p>返回：push 操作后的 list 长度</p>
<p>注意: 2.4版本可以接受多个 value 参数。2.4版本之前的 Redis 只能每条命令 push 一个值</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; LPUSH key_list value1</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key_list 0 -1</span><br><span class="line">1) "value1"</span><br><span class="line">127.0.0.1:6379&gt; LPUSH key_list value1 value2 value3</span><br><span class="line">(integer) 4</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key_list 0 -1</span><br><span class="line">1) "value3"</span><br><span class="line">2) "value2"</span><br><span class="line">3) "value1"</span><br><span class="line">4) "value1"</span><br></pre></td></tr></table></figure>

<h4 id="RPUSH"><a href="#RPUSH" class="headerlink" title="RPUSH"></a>RPUSH</h4><p>用法：RPUSH key value [value …]</p>
<p>作用：向列表 key 的尾部插入所有指定的值。</p>
<ul>
<li><p>如果 key 不存在，那么会创建一个空的列表然后再进行 push 操作。 </p>
</li>
<li><p>当 key 保存的不是一个列表，那么会返回一个错误。</p>
</li>
<li><p>可以使用一个命令把多个元素打入队列，只需要在命令后面指定多个参数。</p>
</li>
<li><p>元素是从左到右一个接一个从列表尾部插入。 比如命令 RPUSH mylist a b c 会返回一个列表，其第一个元素是 a ，第二个元素是 b ，第三个元素是 c。</p>
</li>
</ul>
<p>返回：push 操作后的列表长度</p>
<p>注意: 2.4版本可以接受多个 value 参数。2.4版本之前的 Redis 只能每条命令 push 一个值</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; RPUSH key_list value1</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key_list 0 -1</span><br><span class="line">1) "value1"</span><br><span class="line">127.0.0.1:6379&gt; RPUSH key_list value1 value2 value3</span><br><span class="line">(integer) 4</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key_list 0 -1</span><br><span class="line">1) "value1"</span><br><span class="line">2) "value1"</span><br><span class="line">3) "value2"</span><br><span class="line">4) "value3"</span><br></pre></td></tr></table></figure>

<h4 id="LPUSHX"><a href="#LPUSHX" class="headerlink" title="LPUSHX"></a>LPUSHX</h4><p>用法：LPUSHX key value [value …]</p>
<p>作用：只有当 key 已经存在并且为 list 的时候，就在这个 key 下面的 list 的头部插入 value。 当 key 不存在的时候不会进行任何操作</p>
<p>返回：push 操作后的 list 长度</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 当key1不存在时直接用LPUSHX 不行  返回0则说明没有push成功</span></span><br><span class="line">127.0.0.1:6379&gt; LPUSHX key1 value1 value2</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; FLUSHALL</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; LPUSHX key1 value1</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; FLUSHALL</span><br><span class="line">OK</span><br><span class="line"><span class="meta">#</span><span class="bash"> 首先用LPUSH生成一个列表key1</span></span><br><span class="line">127.0.0.1:6379&gt; LPUSH key1 value1</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">1) "value1"</span><br><span class="line"><span class="meta">#</span><span class="bash"> 当列表key1已经存在时再使用LPUSHX就可以成功</span></span><br><span class="line">127.0.0.1:6379&gt; LPUSHX key1 value2</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">1) "value2"</span><br><span class="line">2) "value1"</span><br><span class="line"><span class="meta">#</span><span class="bash"> LPUSHX也支持同时push多个值</span></span><br><span class="line">127.0.0.1:6379&gt; LPUSHX key1 value3 value3</span><br><span class="line">(integer) 4</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">1) "value3"</span><br><span class="line">2) "value3"</span><br><span class="line">3) "value2"</span><br><span class="line">4) "value1"</span><br></pre></td></tr></table></figure>

<h4 id="RPUSHX"><a href="#RPUSHX" class="headerlink" title="RPUSHX"></a>RPUSHX</h4><p>操作同RPUSHX</p>
<h4 id="LPOP"><a href="#LPOP" class="headerlink" title="LPOP"></a>LPOP</h4><p>用法：LPOP key [count]</p>
<p>作用：移除并且返回 key 对应的 list 的前count个元素，count默认为1</p>
<p>返回：返回元素值，或者当 key 不存在时返回 nil</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> key1 依次头部追加onew two three三个元素</span></span><br><span class="line">127.0.0.1:6379&gt; LPUSH key1 one</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; LPUSH key1 two</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; LPUSH key1 three</span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta">#</span><span class="bash"> 当前key1的列表值</span></span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">1) "three"</span><br><span class="line">2) "two"</span><br><span class="line">3) "one"</span><br><span class="line"><span class="meta">#</span><span class="bash"> 弹出列表key1中的第一个元素</span></span><br><span class="line">127.0.0.1:6379&gt; LPOP key1</span><br><span class="line">"three"</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">1) "two"</span><br><span class="line">2) "one"</span><br><span class="line"><span class="meta">#</span><span class="bash"> 弹出列表key1中的前2个元素</span></span><br><span class="line">127.0.0.1:6379&gt; LPOP key1 2</span><br><span class="line">1) "two"</span><br><span class="line">2) "one"</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">(empty array)</span><br></pre></td></tr></table></figure>

<h4 id="RPOP"><a href="#RPOP" class="headerlink" title="RPOP"></a>RPOP</h4><p>用法：RPOP key [count]</p>
<p>作用：移除并且返回 key 对应的 list 的最后count个元素，count默认为1</p>
<p>返回：返回元素值，或者当 key 不存在时返回 nil</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> key1 依次头部追加onew two three三个元素</span></span><br><span class="line">127.0.0.1:6379&gt; LPUSH key1 one</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; LPUSH key1 two</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; LPUSH key1 three</span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta">#</span><span class="bash"> 当前key1的列表值</span></span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">1) "three"</span><br><span class="line">2) "two"</span><br><span class="line">3) "one"</span><br><span class="line"><span class="meta">#</span><span class="bash"> 弹出列表key1中的最后一个元素</span></span><br><span class="line">127.0.0.1:6379&gt; RPOP key1</span><br><span class="line">"one"</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">1) "three"</span><br><span class="line">2) "two"</span><br><span class="line"><span class="meta">#</span><span class="bash"> 弹出列表key1中的最后2个元素</span></span><br><span class="line">127.0.0.1:6379&gt; RPOP key1 2</span><br><span class="line">1) "two"</span><br><span class="line">2) "three"</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">(empty array)</span><br></pre></td></tr></table></figure>

<h4 id="BLPOP"><a href="#BLPOP" class="headerlink" title="BLPOP"></a>BLPOP</h4><p>官方文档：<a href="http://redis.cn/commands/blpop.html" target="_blank" rel="noopener">http://redis.cn/commands/blpop.html</a></p>
<p>用法：BLPOP key [key …] timeout</p>
<p>作用：命令 <a href="http://redis.cn/commands/lpop.html" target="_blank" rel="noopener">LPOP</a> 的阻塞版本，这是因为当给定列表内没有任何元素可供弹出的时候， 连接将被 <a href="http://redis.cn/commands/blpop.html" target="_blank" rel="noopener">BLPOP</a> 命令阻塞。 当给定多个 key 参数时，按参数 key 的先后顺序依次检查各个列表，弹出第一个非空列表的头元素</p>
<ul>
<li>主要是当队列内没有元素时则阻塞队列，如果阻塞多个队列的话则依次从左到右检查，直到有一个队列弹出元素</li>
<li>与lpop的区别是 当队列中没有数据时lpop会返回nil，而blpop则阻塞队列</li>
</ul>
<p>返回：</p>
<p>注意: </p>
<p>举例：</p>
<h4 id="BRPOP"><a href="#BRPOP" class="headerlink" title="BRPOP"></a>BRPOP</h4><p>官方文档：<a href="http://redis.cn/commands/brpop.html" target="_blank" rel="noopener">http://redis.cn/commands/brpop.html</a></p>
<p>用法：RPOP命令的阻塞版本，作用用法等于BLPOP和LPOP的关系一样</p>
<p>作用：</p>
<p>返回：</p>
<p>注意: </p>
<p>举例：</p>
<h4 id="LLEN"><a href="#LLEN" class="headerlink" title="LLEN"></a>LLEN</h4><p>用法：LLEN key</p>
<p>作用：</p>
<ul>
<li>返回存储在 key 里的list的长度。 </li>
<li>如果 key 不存在，那么就被看作是空list，并且返回长度为 0。 </li>
<li>当存储在 key 里的值不是一个list的话，会返回error</li>
</ul>
<p>返回：key对应的list的长度</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; LPUSH key1 value1 value2 value3</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; LLEN key1</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; LPOP key1</span><br><span class="line">"value3"</span><br><span class="line">127.0.0.1:6379&gt; LPOP key1</span><br><span class="line">"value2"</span><br><span class="line">127.0.0.1:6379&gt; LLEN key1</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; LPOP key1</span><br><span class="line">"value1"</span><br><span class="line">127.0.0.1:6379&gt; LLEN key1</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure>

<h4 id="LINDEX"><a href="#LINDEX" class="headerlink" title="LINDEX"></a>LINDEX</h4><p>用法：LINDEX key index</p>
<p>作用：</p>
<ul>
<li>返回列表里索引为 index 的元素。 </li>
<li>下标是从0开始索引的，所以 0 是表示第一个元素， 1 表示第二个元素，并以此类推。 </li>
<li>负数索引用于指定从列表尾部开始索引的元素。在这种方法下，-1 表示最后一个元素，-2 表示倒数第二个元素，并以此往前推</li>
<li>当 key 位置的值不是一个列表的时候，会返回一个error</li>
</ul>
<p>返回：请求的对应元素，或者当 index 超过范围的时候返回 nil</p>
<p>注意：==是返回，元素并不会从列表中移除==</p>
<p>举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> push一个列表</span></span><br><span class="line">127.0.0.1:6379&gt; LPUSH key1 value1 value2 value3</span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看列表中所有元素</span></span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">1) "value3"</span><br><span class="line">2) "value2"</span><br><span class="line">3) "value1"</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看列表中第一个元素</span></span><br><span class="line">127.0.0.1:6379&gt; LINDEX key1 0</span><br><span class="line">"value3"</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">1) "value3"</span><br><span class="line">2) "value2"</span><br><span class="line">3) "value1"</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看列表中第三个元素</span></span><br><span class="line">127.0.0.1:6379&gt; LINDEX key1 2</span><br><span class="line">"value1"</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">1) "value3"</span><br><span class="line">2) "value2"</span><br><span class="line">3) "value1"</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看列表中倒数第二个元素</span></span><br><span class="line">127.0.0.1:6379&gt; LINDEX key1 -2</span><br><span class="line">"value2</span><br></pre></td></tr></table></figure>

<h4 id="LSET"><a href="#LSET" class="headerlink" title="LSET"></a>LSET</h4><p>用法：LSET key index value</p>
<p>作用：</p>
<ul>
<li>设置 index 位置的list元素的值为 value</li>
<li>当index超出范围时会返回一个error</li>
</ul>
<p>返回：成功时返回OK</p>
<p>举例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; LPUSH key1 value1 value2 value3</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">1) &quot;value3&quot;</span><br><span class="line">2) &quot;value2&quot;</span><br><span class="line">3) &quot;value1&quot;</span><br><span class="line">127.0.0.1:6379&gt; LSET key1 1 11111</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">1) &quot;value3&quot;</span><br><span class="line">2) &quot;11111&quot;</span><br><span class="line">3) &quot;value1&quot;</span><br><span class="line">127.0.0.1:6379&gt; LSET key1 -1 22222</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; LRANGE key1 0 -1</span><br><span class="line">1) &quot;value3&quot;</span><br><span class="line">2) &quot;11111&quot;</span><br><span class="line">3) &quot;22222&quot;</span><br></pre></td></tr></table></figure>

<h4 id="LINSERT"><a href="#LINSERT" class="headerlink" title="LINSERT"></a>LINSERT</h4><p>用法：LINSERT key BEFORE|AFTER pivot value</p>
<p>作用：</p>
<ul>
<li><p>在元素 pivot 的前面或后面插入value到列表 key 中 </p>
</li>
<li><p>当 key 不存在时，这个list会被看作是空list，任何操作都不会发生。</p>
</li>
<li><p>当 key 存在，但保存的不是一个list的时候，会返回error</p>
</li>
</ul>
<p>返回：经过插入操作后的list长度，或者当 pivot 值找不到的时候返回 -1</p>
<p>举例：</p>
<h4 id="LREM"><a href="#LREM" class="headerlink" title="LREM"></a>LREM</h4><p>用法：</p>
<p>作用：</p>
<p>返回：</p>
<p>注意: </p>
<p>举例：</p>
<h4 id="LRANGE"><a href="#LRANGE" class="headerlink" title="LRANGE"></a>LRANGE</h4><p>用法：</p>
<p>作用：</p>
<p>返回：</p>
<p>注意: </p>
<p>举例：</p>
<h4 id="LTRIM"><a href="#LTRIM" class="headerlink" title="LTRIM"></a>LTRIM</h4><p>用法：</p>
<p>作用：</p>
<p>返回：</p>
<p>注意: </p>
<p>举例：</p>
<h4 id="RPOPLPUSH"><a href="#RPOPLPUSH" class="headerlink" title="RPOPLPUSH"></a>RPOPLPUSH</h4><p>用法：</p>
<p>作用：</p>
<p>返回：</p>
<p>注意: </p>
<p>举例：</p>
<h4 id="BRPOPLPUSH"><a href="#BRPOPLPUSH" class="headerlink" title="BRPOPLPUSH"></a>BRPOPLPUSH</h4><p>用法：</p>
<p>作用：</p>
<p>返回：</p>
<p>注意: </p>
<p>举例：</p>
<h2 id="Set类型"><a href="#Set类型" class="headerlink" title="Set类型"></a>Set类型</h2><h6 id="Set类型是无序的列表且不允许重复"><a href="#Set类型是无序的列表且不允许重复" class="headerlink" title="Set类型是无序的列表且不允许重复"></a>Set类型是无序的列表且不允许重复</h6><ol>
<li><p>添加一个值,<code>sadd key value</code></p>
<p> ==set1为key 12为value==</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; sadd set1 12</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取set长度, <code>scard key</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; scard set1</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看set里面是否存在某个value, <code>sismember key value</code></p>
<p> ==set1为key,13为value==</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; sismember set1 13</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除一个值 <code>srem key value</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; srem set1 13</span><br></pre></td></tr></table></figure>





</li>
</ol>
<h2 id="Hash类型-又称：散列"><a href="#Hash类型-又称：散列" class="headerlink" title="Hash类型(又称：散列)"></a>Hash类型(又称：散列)</h2><h6 id="Hash只要求键不一样，就是不同的条数"><a href="#Hash只要求键不一样，就是不同的条数" class="headerlink" title="Hash只要求键不一样，就是不同的条数"></a>Hash只要求键不一样，就是不同的条数</h6><pre><code>数据结构图:

        key-&gt;key1  -&gt;   value(string/int/float)     

              key2  -&gt;  value(string/int/float)     

              key3  -&gt;  value(string/int/float)     

              key4  -&gt;   value(string/int/float)</code></pre><ol>
<li><p>插入       <code>hset key key value</code></p>
<p> ==如果键重复,值会被覆盖==</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; hset hash1 key1 12</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取      <code>hget key key</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; hget hash1 key1</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="3">
<li><p>查看长度    <code>hlen key</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; hlen key</span><br></pre></td></tr></table></figure>
</li>
<li><p>一次性获取多个值     <code>hmget key key1 key2</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; hmget hash1 key1 key2</span><br></pre></td></tr></table></figure>





</li>
</ol>
<h2 id="Zset-类型-Sort-set又称-有序分数集"><a href="#Zset-类型-Sort-set又称-有序分数集" class="headerlink" title="Zset 类型(Sort set又称:有序分数集)"></a>Zset 类型(Sort set又称:有序分数集)</h2><p>==存储和hash一样，都是一个映射。存储的是分数与元素的映射。可以看出是排行榜。value必须是全局唯一==</p>
<pre><code>数据结构：score 是浮点型

    key-&gt;score(10.1)   value(string/int/float)  rank:1     

         score(9.1)    value(string/int/float)  rank:0    

         score(11.2)   value(string/int/float)  rank:2</code></pre><p>==如果两个元素的score一样，按照字节顺序排列先后==</p>
<ol>
<li><p>增加    <code>zadd key score value</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; zadd zset1 10.1 val1</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看个数      <code>zcard key</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; zcard zset1</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看排名       <code>zrange key sort widthscores</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 表示按照从o到2查看zset包括scores值</span><br><span class="line">&gt; zrange zset1 0 2 widthscores</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看某个value排名   <code>zrand key value</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; zrank zset1 val2</span><br></pre></td></tr></table></figure>









</li>
</ol>
<h1 id="特殊数据类型"><a href="#特殊数据类型" class="headerlink" title="特殊数据类型"></a>特殊数据类型</h1><h2 id="Geospatial"><a href="#Geospatial" class="headerlink" title="Geospatial"></a>Geospatial</h2><h2 id="Hyperlog"><a href="#Hyperlog" class="headerlink" title="Hyperlog"></a>Hyperlog</h2><h2 id="bitmaps"><a href="#bitmaps" class="headerlink" title="bitmaps"></a>bitmaps</h2></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Mr、 Zhao</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://zhaoduo110.github.io/posts/6b080b4.html">https://zhaoduo110.github.io/posts/6b080b4.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://zhaoduo110.github.io" target="_blank">Yet</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Redis/">Redis</a><a class="post-meta__tags" href="/tags/NoSQL/">NoSQL</a></div><div class="post_share"><div class="social-share" data-image="https://could-res-1252778021.cos.ap-shanghai.myqcloud.com/pic/wallpaper/1618218938852.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/posts/68c1a07d.html"><img class="prev_cover" data-src="https://could-res-1252778021.cos.ap-shanghai.myqcloud.com/pic/wallpaper/1618218952853.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Swoft-踩坑</div></div></a></div><div class="next-post pull_right"><a href="/posts/97c16208.html"><img class="next_cover" data-src="https://could-res-1252778021.cos.ap-shanghai.myqcloud.com/pic/wallpaper/1618218964853.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Redis知识梳理-1-安装</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/posts/97c16208.html" title="Redis知识梳理-1-安装"><img class="relatedPosts_cover" data-src="https://could-res-1252778021.cos.ap-shanghai.myqcloud.com/pic/wallpaper/1618218964853.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-05-17</div><div class="relatedPosts_title">Redis知识梳理-1-安装</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" style="background-image: url(https://could-res-1252778021.cos.ap-shanghai.myqcloud.com/pic/wallpaper/1618218964853.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Mr、 Zhao</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">简</a><i class="darkmode far fa-moon" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script id="ribbon_piao" mobile="true" src="/js/third-party/piao.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script src="/js/third-party/click_heart.js"></script><script>var endLoading = function () {
  document.body.style.overflow = 'auto';
  document.getElementById('loading-box').classList.add("loaded")
}
window.addEventListener('load',endLoading)</script></body></html>